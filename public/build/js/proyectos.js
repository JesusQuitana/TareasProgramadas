document.addEventListener("DOMContentLoaded",(function(){document.querySelector("#newProyecto").addEventListener("click",(e=>{!function(){const e=document.querySelector(".uptask"),t=document.createElement("DIV");t.classList.add("ventana");const n=document.createElement("DIV");n.classList.add("modal");const o=document.createElement("DIV");o.classList.add("iconcerrar"),o.innerHTML='<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-x"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 6l-12 12" /><path d="M6 6l12 12" /></svg>';const a=document.createElement("H3");a.textContent="Nuevo Proyecto";const r=document.createElement("DIV");r.classList.add("alertas");const c=document.createElement("FORM");c.classList.add("formulario");const d=document.createElement("INPUT");d.setAttribute("type","text"),d.setAttribute("placeholder","Nombre del Proyecto"),d.setAttribute("id","nombre"),d.setAttribute("name","nombre");const l=document.createElement("INPUT");l.setAttribute("type","submit"),l.classList.add("btn"),l.classList.add("verde"),n.appendChild(o),n.appendChild(a),n.appendChild(r),c.appendChild(d),c.appendChild(l),n.appendChild(c),t.appendChild(n),e.appendChild(t),l.addEventListener("click",(e=>{e.preventDefault(),""==d.value?function(e,t){const n=document.querySelector(".alertas");if(null==document.querySelector(".alerta")){const o=document.createElement("P");o.classList.add("alerta"),o.classList.add(e),o.textContent=t,n.appendChild(o),setTimeout((()=>{o.remove()}),2e3)}}("error","Agregue un Nombre"):async function(e){const t=`${window.location}/api/proyecto/new`,n=new FormData;n.append("proyecto",e),n.append("email",document.querySelector("#email").value);const o=await fetch(t,{method:"POST",body:n});(await o.json()).resultado?(document.querySelector(".ventana").remove(),Swal.fire({icon:"success",title:"Tarea Guardada",text:"Tarea guardada con Exito"}).then((e=>{window.location.reload()}))):(document.querySelector(".ventana").remove(),Swal.fire({icon:"error",title:"Error",text:"Hubo un error al registrar la tarea"}).then((e=>{window.location.reload()})))}(d.value)})),o.addEventListener("click",(e=>{t.remove()})),t.addEventListener("click",(e=>{e.target==t&&t.remove()}))}()}))}));